<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="stylesheet" href="style.css" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CarpÃ‰nergie - Boutique EcoFlow</title>
  
  <!-- PayPal SDK -->
  <script src="https://www.paypal.com/sdk/js?client-id=YOUR_PAYPAL_CLIENT_ID&currency=EUR"></script>
</head>
<body>
  <header>
    <h1>CarpÃ‰nergie</h1>
    <p>Votre boutique spÃ©cialisÃ©e en solutions EcoFlow</p>
  </header>
  <nav>
    <ul>
      <li><a href="#">Accueil</a></li>
      <li><a href="#produits">Produits</a></li>
      <li><a href="#contact">Contact</a></li>
      <li><a href="#" id="cart-btn">Panier ðŸ›’ <span class="cart-count" id="cart-count">0</span></a></li>
    </ul>
  </nav>
  <section class="hero">
    <h2>Ã‰nergie Portable pour Tous Vos Besoins</h2>
  </section>
  <div class="container" id="produits">
    <h2 class="section-title">Nos Produits</h2>
    <div class="products-grid">
      <template id="product-template">
        <div class="product-card">
          <img src="" alt="">
          <div class="product-content">
            <h3></h3>
            <p></p>
            <button class="btn add-to-cart">Ajouter au panier</button>
          </div>
        </div>
      </template>
    </div>
    <div id="paypal-button-container"></div>
  </div>
  <footer id="contact">
    <h2>Contactez-nous</h2>
    <form name="contact" method="POST" data-netlify="true">
      <input type="hidden" name="form-name" value="contact">
      <label>Nom
        <input type="text" name="name" required>
      </label>
      <label>Email
        <input type="email" name="email" required>
      </label>
      <label>Message
        <textarea name="message" rows="4" required></textarea>
      </label>
      <button type="submit" class="btn">Envoyer</button>
    </form>
    <p style="text-align:center; margin-top:1.5rem;">Â© 2025 CarpÃ‰nergie</p>
  </footer>
  <script>
    const products = [
      { id:1,name:'EcoFlow Delta 2',price:699, img:'https://www.ecoflow.com/cdn/shop/files/delta-2.jpg' },
      { id:2,name:'EcoFlow Delta 3',price:799, img:'https://www.ecoflow.com/cdn/shop/files/delta-3.jpg' },
      { id:3,name:'EcoFlow River 2',price:129, img:'https://www.ecoflow.com/cdn/shop/files/river-2.jpg' },
      { id:4,name:'EcoFlow River 3',price:179, img:'https://www.ecoflow.com/cdn/shop/files/river-3.jpg' },
      { id:5,name:'Panneau Solaire 110W',price:109, img:'https://www.ecoflow.com/cdn/shop/files/solar-panel-110w.jpg' },
      { id:6,name:'Panneau Solaire 220W',price:199, img:'https://www.ecoflow.com/cdn/shop/files/solar-panel-220w.jpg' }
    ];
    let cart = JSON.parse(localStorage.getItem('cart')||'[]');
    const cartCount = document.getElementById('cart-count');
    const grid = document.querySelector('.products-grid');
    // Afficher produits
    products.forEach(p => {
      const tpl = document.getElementById('product-template').content.cloneNode(true);
      tpl.querySelector('img').src = p.img; tpl.querySelector('img').alt = p.name;
      tpl.querySelector('h3').textContent = p.name;
      tpl.querySelector('p').textContent = p.price + ' â‚¬';
      tpl.querySelector('.add-to-cart').dataset.id = p.id;
      grid.appendChild(tpl);
    });
    function updateCount(){ cartCount.textContent = cart.length; localStorage.setItem('cart', JSON.stringify(cart)); }
    updateCount();
    grid.addEventListener('click', e => { if(e.target.classList.contains('add-to-cart')){ cart.push(e.target.dataset.id); updateCount(); } });
    document.getElementById('cart-btn').addEventListener('click', e=>{ e.preventDefault(); alert(cart.length? 'Articles dans le panier: '+cart.length:'Votre panier est vide'); });
    // PayPal
    paypal.Buttons({
      createOrder: (data, actions) => {
        const total = cart.reduce((sum,id)=> sum + products.find(p=>p.id==id).price, 0);
        return actions.order.create({ purchase_units:[{ amount:{ value: total.toString() } }] });
      },
      onApprove: (data, actions) => actions.order.capture().then(details => alert('Merci '+details.payer.name.given_name+' pour votre achat!'))
    }).render('#paypal-button-container');
  </script>
</body>
</html>
